{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "django__django-15732", "model_patch": "diff --git a/django/db/backends/base/schema.py b/django/db/backends/base/schema.py\nindex f2ca8c8df9..12856d7706 100644\n--- a/django/db/backends/base/schema.py\n+++ b/django/db/backends/base/schema.py\n@@ -568,6 +568,17 @@ class BaseDatabaseSchemaEditor:\n             exclude=meta_constraint_names | meta_index_names,\n             **constraint_kwargs,\n         )\n+        # If we're looking for unique constraints, exclude primary key constraints\n+        if constraint_kwargs.get(\"unique\"):\n+            # Get primary key constraint names to exclude them\n+            pk_constraint_names = self._constraint_names(\n+                model,\n+                columns,\n+                primary_key=True,\n+            )\n+            # Filter out primary key constraints from the list\n+            constraint_names = [name for name in constraint_names if name not in pk_constraint_names]\n+        \n         if len(constraint_names) != 1:\n             raise ValueError(\n                 \"Found wrong number (%s) of constraints for %s(%s)\"\n"}