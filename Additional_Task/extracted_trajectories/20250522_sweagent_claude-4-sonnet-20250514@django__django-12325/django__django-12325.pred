{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "django__django-12325", "model_patch": "diff --git a/django/db/models/base.py b/django/db/models/base.py\nindex 8ea6c05ef9..33e6ebb559 100644\n--- a/django/db/models/base.py\n+++ b/django/db/models/base.py\n@@ -204,7 +204,11 @@ class ModelBase(type):\n             for field in base._meta.local_fields:\n                 if isinstance(field, OneToOneField):\n                     related = resolve_relation(new_class, field.remote_field.model)\n-                    parent_links[make_model_tuple(related)] = field\n+                    related_key = make_model_tuple(related)\n+                    # Prioritize fields with parent_link=True\n+                    if (related_key not in parent_links or \n+                        getattr(field.remote_field, 'parent_link', False)):\n+                        parent_links[related_key] = field\n \n         # Track fields inherited from base models.\n         inherited_attributes = set()\ndiff --git a/tests/model_inheritance/tests.py b/tests/model_inheritance/tests.py\nindex 5eef0f5bfa..0ec4ebb8c1 100644\n--- a/tests/model_inheritance/tests.py\n+++ b/tests/model_inheritance/tests.py\n@@ -204,6 +204,48 @@ class ModelInheritanceTests(TestCase):\n \n         self.assertEqual(A.attr.called, (A, 'attr'))\n \n+    @isolate_apps('model_inheritance')\n+    def test_parent_link_field_selection_with_multiple_onetoone(self):\n+        \"\"\"\n+        Test that when there are multiple OneToOneField instances pointing to\n+        the parent model, the one with parent_link=True is correctly selected\n+        as the parent link, regardless of field declaration order.\n+        \"\"\"\n+        class Document(models.Model):\n+            class Meta:\n+                app_label = 'model_inheritance'\n+\n+        # Test case 1: parent_link field declared first\n+        class Picking1(Document):\n+            document_ptr = models.OneToOneField(\n+                Document, on_delete=models.CASCADE, parent_link=True, related_name='+'\n+            )\n+            origin = models.OneToOneField(\n+                Document, related_name='picking1', on_delete=models.PROTECT\n+            )\n+\n+            class Meta:\n+                app_label = 'model_inheritance'\n+\n+        # Test case 2: parent_link field declared second\n+        class Picking2(Document):\n+            origin = models.OneToOneField(\n+                Document, related_name='picking2', on_delete=models.PROTECT\n+            )\n+            document_ptr = models.OneToOneField(\n+                Document, on_delete=models.CASCADE, parent_link=True, related_name='+'\n+            )\n+\n+            class Meta:\n+                app_label = 'model_inheritance'\n+\n+        # Both should work and use the field with parent_link=True as the parent link\n+        self.assertTrue(Picking1._meta.parents[Document].remote_field.parent_link)\n+        self.assertEqual(Picking1._meta.parents[Document].name, 'document_ptr')\n+        \n+        self.assertTrue(Picking2._meta.parents[Document].remote_field.parent_link)\n+        self.assertEqual(Picking2._meta.parents[Document].name, 'document_ptr')\n+\n \n class ModelInheritanceDataTests(TestCase):\n     @classmethod\n"}